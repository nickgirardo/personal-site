$border-std: 1px solid #888;

// TODO should this be moved elsewhere?
.code-region {
  width: 80ch;

  background-color: hsl(195, 20%, 98%);
  .control-row {
    display: flex;
    flex-direction: row;
    align-items: center;


    .controls {
      padding: 0 2em;

      display: flex;
      flex-direction: column;

      >:not(:last-child) {
        margin-bottom: 0.5em;
      }
    }

    .output {
      margin: 1em 1em 1em 0;
      flex-grow: 1;
    }
  }

  border: $border-std;
  border-radius: 3px;
  overflow: hidden;
}

.cm-s-nicks-theme {
  &.CodeMirror {
    color: #666;
    background-color: hsl(195, 20%, 92%);
    border-radius: 0px;
    border-bottom: $border-std;
  }

  div.CodeMirror-selected,
  .CodeMirror-line::selection,
  .CodeMirror-line > span::selection,
  .CodeMirror-line > span > span::selection {
    background: #cfc;
  }

  // Matching brackets
  span.CodeMirror-matchingbracket {
    outline:1px solid grey;
    color: inherit;
  }
  // Not sure
  .CodeMirror-activeline-background { background: #efefff; }

  // The gutter is the area to the left (or right if so configured)
  // Which contains (for instance) line numbers
  .CodeMirror-gutters {
    background: hsl(195, 10%, 90%);
    border-right: $border-std;
    // Not sure what this color controls, it doesn't effect the line numbers
    color: red;
  }
  .CodeMirror-linenumber { color: #666; }
  .CodeMirror-cursor { border-left: 2px solid #222; }


  // Literals and arithmetic operators
  // atom controls boolean literals (not sure what else)
  .cm-atom,
  .cm-number,
  .cm-string,
  .cm-string-2,
  .cm-operator {
    color:  hsl(24, 60%, 40%);
  }

  .cm-keyword {
    color: hsl(327, 90%, 35%);
  }

  span.cm-tag,
  .cm-def,
  .cm-property,
  .cm-variable,
  span.cm-variable-2,
  span.cm-variable-3,
  span.cm-def,
  span.cm-type {
    color: hsl(198, 92%, 35%);
  }

  .cm-qualifier { color: #690; }

  .cm-comment { color:#666; font-weight:normal; }
  .cm-meta { color: #000; } /*?*/
  .cm-builtin { color: #9B7536; } /*?*/
  .cm-tag { color: #997643; }
  .cm-attribute { color: #d6bb6d; } /*?*/
  .cm-header { color: #FF6400; }
  .cm-hr { color: #AEAEAE; }
  .cm-link { color:#ad9361; font-style:italic; text-decoration:none; }
  .cm-error { border-bottom: 1px solid red; }
}

.cm-s-nicks-output-theme {
  &.CodeMirror {
    color: #222;
    background-color: hsl(195, 20%, 92%);
    border: $border-std;
    border-radius: 2px;

    span.CodeMirror-matchingbracket {
      color: #222;
    }
  }

  div.CodeMirror-selected,
  .CodeMirror-line::selection,
  .CodeMirror-line > span::selection,
  .CodeMirror-line > span > span::selection {
    background: #cfc;
  }
}

